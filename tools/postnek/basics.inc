C     Utilities to be included in all subroutines in Preprocessor Program
C     BASICS.INC
      PARAMETER (NELM=MAXNEL,NXM=12,NYM=12,NZM=12,MAXFLD=4)
      PARAMETER ( MAXCRV=10,MAXIBC=10,MAXHIS=200)
      PARAMETER ( MSOBJS=10, MFACES=10)
      LOGICAL     IFHEAT,IFFLOW,IFTRAN,IFNAV,IFAXIS,IFCEIL,IFERROR
     $,IFSTRS,IFADVC(11),IFTMSH(0:11),IFPLOT(NELM),IFMESH,IFDRAX
     $,IFPSCO(9),IFSPLIT,IFMGRID,IFGRAF,IFMODEL,IFKEPS,IF3BUT
     $,IFMVBD,IFCHAR,IFNEEDC,IFUNIV,IFEXPT,ifdssum,ifavgupt
      COMMON /LOG/IFHEAT,IFFLOW,IFTRAN,IFAXIS,IFCEIL,IFERROR
     $,IFSTRS,IFADVC,IFTMSH,IFPLOT,IFMESH,IFDRAX
     $,IFPSCO,IFSPLIT,IFMGRID,IFGRAF,IFMODEL,IFKEPS,IF3BUT
     $,IFMVBD,IFCHAR,IFNEEDC,IFUNIV,IFEXPT,ifdssum,ifavgupt
      COMMON /OBJECT/ NVOBJS,NSOBJS,NEOBJS,NPOBJS,NFACE(MSOBJS),
     $ILSURF(2,MSOBJS,MFACES)
      COMMON /OBJECC/ SOBJ(MSOBJS)
      CHARACTER SOBJ*20
 
      LOGICAL      IFXYO,IFXYH,IFPO,IFVO,IFTO,IFTGO,IFMOVB,IFPLAN
     $            ,IFPROJ,IFDMSH,IFZOOM,IFGNGM,IFCFBD,IFCLRB,IFMLTI
     $            ,IFFMTIN,ifptplt,ifauto,ifregz,ifvecout,if_output_ijke
      COMMON /LOGO/IFXYO,IFXYH,IFPO,IFVO,IFTO,IFTGO,IFMOVB,IFPLAN
     $            ,IFPROJ,IFDMSH,IFZOOM,IFGNGM,IFCFBD,IFCLRB,IFMLTI
     $            ,IFFMTIN,ifptplt,ifauto,ifregz,ifvecout,if_output_ijke
 
      COMMON /NEK2/ NPTPRO,NCSEGS,NRAKE
     $         ,NCURVE,IELLEV,ISRT(NELM)
     $         ,NUMAPT(NELM),ILETAP,MAXLET,ILEVEL,NSIDES,NCORNS
     $         ,NEDGES,IGRP,LOCHIS(4,MAXHIS)
     $         ,NPSCAL,NCOND
     $         ,IPSCO,IPSCH,DMPTIM(1000),IDSTEP(1000)
     $         ,IGROUP(NELM),ISOBJ
     $         ,CERROR(6,NELM)
 
      COMMON /NEK2r/ CURVE(6,8,NELM),VELTYP,BC(5,6,NELM,0:MAXFLD)
     $         ,PI,THETA,PHI,VHOBS(3),XHOBS(3),YHOBS(3)
     $         ,ZPTS(NXM),WGHT(NXM),DFDR(NXM,NXM),DFDRT(NXM,NXM)
     $         ,DGDR(NXM,NXM),DGDRT(NXM,NXM)
     $         ,POINTS(3,3),PCOND(11),PRHOCP(11),CPROP(-5:10,10,3)
     $         ,MATYPE(-5:10,0:MAXFLD)

      COMMON /CHAAR/LINE,SESION,ITEM,CHOICE,OLDVER,CMD(500),RSTV,RSTT
     $,X13,CPARAM(500),HCODE(11,MAXHIS),OCODE(20),CBC1,CBC3,DARROW
     $,PLANE,PLANE2,VPROP(-5:10,10,3),TEXTSW(100,2),S
     $,QUANTY,COMPON,SCALPT,VECTPT,XYATTR,SUATTR,PLFORM
     $,QUANT2,COMPO2
     $,QUANT3,COMPO3
     $,coord_sys
     $,INBC(MAXIBC),CCURVE(8,NELM),CBC(6,NELM,0:MAXFLD),LETAPT(NELM)
     $,REQD,DRIVC(20),INITC(15),INITP(15),PSNAME(9),DERIV,DATE
     $,PLTMOD
     $,session_name
     $,session_path
     $,fld_name
      character*80 session_name,session_path,fld_name
 
      PARAMETER (LHI=50)
      COMMON /IBASIC/ NLINF,NLINP,NLINR,NHI,IEH(LHI)
      COMMON /BASICS/ IN,NEL,NELF,NX,NY,NZ,NFLDS,NDIM,
     $NODES(MAXFLD),NODESB(MAXFLD)
     $,ICHOIC,NCHOIC
     $,ICRV(NELM),nlevel,NKTONV,LOCLIN,LPSDMP,NPSDMP

      COMMON /BASICSR/ DXMIN,DYMIN,CWRITE,YBS(100),YTS(100),XLMEN
     $,XRMEN,HEIGHT(nelm),VNEKTON,VNEKOLD
 
      COMMON /MATSR/ XPTS(NXM,NYM,NELM),YPTS(NXM,NYM,NELM)
     $,ZPTN(NXM,NYM,NELM),XXPTS(NXM),YYPTS(NYM)
     $,X(NELM,8),Y(NELM,8),z(nelm,8)
     $,XCEN(NELM),YCEN(NELM),ZCEN(NELM),RCEN(NELM)
     $,ZDEPTH(NELM,6)
     $,SIDES(NELM,6,4),EDGES(8,3,NELM),MASKEL(NELM,MAXFLD)
 
      COMMON /MATSI/ IZDPTH(NELM*6,2)
     $,adje(6,NELM),adjf(6,NELM)
 
       integer adje,adjf
 
      COMMON /PARAM/ PARAM(500),NPARAM,NCMD,NHISPT
     $,IRSTT,IRSTV,RSTIM,IRSTIM,ISEGDUM,SARROW,HFISH
c
C     MASK = 1 FOR NORMAL ELEMENT, = 0 FOR NO ELEMENT
C     IPER ARGUMENTS ARE IEL, ISIDE, III ,IFIELD. III=1 FOR IELP; =2 ISIDEP
C
      CHARACTER LINE*70,LINES(70),SESION*80,OCODE*2,CCURVE,REQD(100)
     $,CPARAM*40,CMD*10,OLDVER*4,RSTV*10,RSTT*10,X13*80,INBC*60
     $,PLANE*20,PLANE2*20,DRIVC*80,VCOND*80,INITC*80,INITP*80,VPROP*80
     $,QUANTY*20,COMPON*1,SCALPT*20,VECTPT*20,XYATTR*20,SUATTR*20
     $,QUANT2*20,COMPO2*1
     $,QUANT3*20,COMPO3*1
     $,coord_sys*3
     $,PLFORM*20,CBC1,DARROW*20,PSNAME*5,DERIV*5,TEXTSW*40,TURBMOD*40
      CHARACTER CBC*3,CBC3*3,CRVTYP,ANS,HCODE,LETAPT,S*80,DATE*28
      CHARACTER*10 button,ARG(5),PLTMOD
      CHARACTER*26 ITEM(40),CHOICE
      EQUIVALENCE(LINE   ,LINES(1))
      EQUIVALENCE(LINE   ,ANS)
      EQUIVALENCE(EQTYPE,PARAM(16))
      EQUIVALENCE(AXIS  ,PARAM(17))
      EQUIVALENCE(GRID  ,PARAM(18))
      EQUIVALENCE(IFNAV ,IFADVC(1))
      EQUIVALENCE(TURBMOD,TEXTSW(1,1))
132   FORMAT(' ',2G14.6,A32)
C
C     Stuff that used to be in basicsp.inc
      COMMON /SPOST/ TDUMP(30)
      COMMON /POST/
     $ UMAX,VMAX,UVMAX,WMAX,TTMAX,TTMIN,WKMIN,WKMAX,WKDLT
     $  ,TIME,TIME0,DT,FINTIM
     $  ,XPLANE,YPLANE,ZPLANE
     $  ,XPOINT,YPOINT,ZPOINT
     $  ,XLINE(2),YLINE(2),ZLINE(2)
     $  ,VN(3),XV(3,3)
      COMMON /IPOST/
     $ ISTEP,NSTEPS,IDUMP
     $  ,IOSTEP,NHIS,NNHIS,NDUMPS,IINTEG,NINTEG
     $  ,IPLANE,JPLANE,KPLANE
     $  ,IPOINT,JPOINT,KPOINT,IELPNT,IHISPT
     $  ,IPLTYP,NXGRID,NXBAND,NXCONT,IROT
      COMMON /CPOST/ STRFLE,FLDFLE,FILENM,EXCODE(15)
      CHARACTER*2  EXCODE
      CHARACTER*40   STRFLE,FLDFLE,FILENM
      COMMON /RGEOM/ ZMOUSE,XOBJ(3000),YOBJ(3000),cobjs(6,20)
      COMMON /IGEOM/ NOBJS,IOBJCT,NPTS(20)
      COMMON /LGEOM/ IFOBJS,IFOBJG(20)
      COMMON /CGEOM/ ccobjs(20)
      LOGICAL IFOBJS,IFOBJG
      character*1 ccobjs
C
C     Window size
      COMMON /WIND/ WINDOWW,WINDOWH
      common /pixmp/ xpmn,ypmn,xpmx,ypmx
C
C     Arrays for face & edge manipulation
C
      COMMON /CFACES/ GROUP(6),SKPDAT(6,6)
     $               ,EFACE(6),EFACE1(6)
      INTEGER GROUP,SKPDAT,EFACE,EFACE1
C
C     New zipper and surface plot data
C
      PARAMETER (NSRFM=3*NXM*NELM)
      COMMON /QDPTS/ XYZQ(5,4,6,NELM)
      COMMON /QDPTI/ NLSTP,LIST(NSRFM),NMIRROR,LMIR(NSRFM)
     $                    ,LISW(NSRFM)
      COMMON /QDPTC/ NAMSEL,NAMELS(NSRFM),NAMESF(10)
      COMMON /SRFI/  NOPEN
      CHARACTER*16   NAMSEL,NAMELS,NAMESF
      COMMON /RCVOL/ VXPT1(3),VXPT2(3)
      COMMON /ICVOL/ NSLICE
      COMMON /CCVOL/ VPLANE
      COMMON /LCVOL/ IFCVOL
      CHARACTER*7 VPLANE
      LOGICAL IFCVOL
 
      common /forgotr/ cont_lev
 
      common /mpaull/ ifmean,ifmftp,ifuvtp
      logical         ifmean,ifmftp,ifuvtp
 
 
      parameter (ll=4*nxm*nxm)
      common /ahat/ aht (ll),bht (ll),cht(ll),dht(ll)
     $             ,dpht(ll),jpht(ll),zht(ll),wht(ll)
      real          aht,bht,cht,dht,dpht,jpht,zht,wht
 
 
      INCLUDE 'devices.inc'
C     END OF BASICS.INC
